<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>University Search</title>

  <!-- Bootstrap 5 CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
</head>
<body class="bg-light">

  <div class="container mt-5">
    <div class="card shadow p-4">
      <h3 class="mb-4 text-center">Search Universities by Country</h3>

      <!-- Country Select -->
      <select class="form-select mb-3" id="countrySelect">
        <option value="">-- Select Country --</option>
        <option value="india">India</option>
        <option value="united states">United States</option>
        <option value="canada">Canada</option>
        <option value="australia">Australia</option>
        <option value="united kingdom">United Kingdom</option>
      </select>

      <!-- Loading text -->
      <div id="loading" class="text-primary d-none">
        Loading universities...
      </div>

      <!-- University List -->
      <ul class="list-group mt-3" id="universityList"></ul>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    const countrySelect = document.getElementById("countrySelect");
    const universityList = document.getElementById("universityList");
    const loading = document.getElementById("loading");

    countrySelect.addEventListener("change", async () => {
      const country = countrySelect.value;

      universityList.innerHTML = "";
      loading.classList.add("d-none");

      if (!country) return;

      loading.classList.remove("d-none");

      try {
        const response = await fetch(
          `http://universities.hipolabs.com/search?country=${country}`
        );

        const data = await response.json();
        loading.classList.add("d-none");

        if (data.length === 0) {
          universityList.innerHTML =
            "<li class='list-group-item'>No universities found</li>";
          return;
        }

        data.forEach(university => {
          const li = document.createElement("li");
          li.className = "list-group-item";
          li.textContent = university.name;
          universityList.appendChild(li);
        });

      } catch (error) {
        loading.classList.add("d-none");
        universityList.innerHTML =
          "<li class='list-group-item text-danger'>Error fetching data</li>";
      }
    });
  </script>

</body>
</html>
